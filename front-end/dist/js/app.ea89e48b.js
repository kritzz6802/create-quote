(function(){"use strict";var e={2793:function(e,n,t){var r=t(9963),o=t(6252);function i(e,n,t,r,i,l){const a=(0,o.up)("navbar"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(a),(0,o.Wm)(u)],64)}const l={class:"nav-wrapper #673ab7 deep-purple"},a={id:"nav-mobile",class:"right"},u={key:0},s={key:1},c={key:2};function p(e,n,t,r,i,p){const m=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",null,[(0,o._)("div",l,[(0,o.Wm)(m,{to:"/",class:"brand-logo left"},{default:(0,o.w5)((()=>[(0,o.Uk)("Product App")])),_:1}),(0,o._)("ul",a,[(0,o._)("li",null,[(0,o.Wm)(m,{to:"/login"},{default:(0,o.w5)((()=>[(0,o.Uk)("login")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(m,{to:"/signup"},{default:(0,o.w5)((()=>[(0,o.Uk)("signUp")])),_:1})]),p.token?((0,o.wg)(),(0,o.iD)("li",u,[(0,o.Wm)(m,{to:"/profile"},{default:(0,o.w5)((()=>[(0,o.Uk)("profile")])),_:1})])):(0,o.kq)("",!0),p.token?((0,o.wg)(),(0,o.iD)("li",s,[(0,o.Wm)(m,{to:"/create"},{default:(0,o.w5)((()=>[(0,o.Uk)("create")])),_:1})])):(0,o.kq)("",!0),p.token?((0,o.wg)(),(0,o.iD)("li",c,[(0,o._)("button",{onClick:n[0]||(n[0]=(...e)=>p.logout&&p.logout(...e))},"Logout")])):(0,o.kq)("",!0)])])])}t(7658);var m=t(2201),d=t(3577);const f={key:0},g={key:1},h={key:2,class:"container my-container"},v=(0,o._)("h2",{class:"center"},"Your Product",-1),w={class:"p-maindiv"},y={class:"center"},_=["src"],b={style:{"margin-top":"20px"}},k={class:"right-align"};function D(e,n,t,r,i,l){const a=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.error?((0,o.wg)(),(0,o.iD)("p",f,"Something went wrong...")):(0,o.kq)("",!0),r.loading?((0,o.wg)(),(0,o.iD)("p",g,"Loading...")):((0,o.wg)(),(0,o.iD)("div",h,[v,(0,o._)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.result.products,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"product",key:e},[(0,o._)("div",y,[null!==e.url?((0,o.wg)(),(0,o.iD)("img",{key:0,src:`${e.url}`,alt:"pic"},null,8,_)):(0,o.kq)("",!0)]),(0,o._)("h5",b,(0,d.zw)(e.name),1),(0,o._)("div",null,[(0,o.Uk)("Price: "),(0,o._)("strong",null,"$ "+(0,d.zw)(e.price),1)]),(0,o._)("p",null,(0,d.zw)(e.discription),1),(0,o.Wm)(a,{to:`/profile/${e.by._id}`},{default:(0,o.w5)((()=>[(0,o._)("p",k,"~ "+(0,d.zw)(e.by.fname),1)])),_:2},1032,["to"])])))),128))])]))],64)}var U=t(1230),P=t(7102);const q=U.ZP`
query
    {
    products{
        name
      price
      discription
      url
        by{
        _id
         fname
        }
     }
 }
`;var S={name:"homePage",setup(){const{result:e,loading:n,error:t}=(0,P.aM)(q);return console.log(e),{result:e,loading:n,error:t}}},$=t(3744);const O=(0,$.Z)(S,[["render",D]]);var z=O;const x={class:"container my-container"},I=(0,o._)("h3",null,"Login !!",-1),j=(0,o._)("p",null,"Don't have an account ?",-1),Z=(0,o._)("button",{type:"submit",class:"btn #673ab7 deep-purple"},"Login",-1);function F(e,n,t,i,l,a){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",x,[I,(0,o._)("form",{action:"",onSubmit:n[2]||(n[2]=(0,r.iM)((e=>a.getData()),["prevent"]))},[(0,o.wy)((0,o._)("input",{type:"email",placeholder:"email","onUpdate:modelValue":n[0]||(n[0]=e=>l.form.email=e),required:""},null,512),[[r.nr,l.form.email]]),(0,o.wy)((0,o._)("input",{type:"password",placeholder:"password","onUpdate:modelValue":n[1]||(n[1]=e=>l.form.password=e),required:""},null,512),[[r.nr,l.form.password]]),(0,o.Wm)(u,{to:"/signup"},{default:(0,o.w5)((()=>[j])),_:1}),Z],32)])}var W=t(2285),H={name:"logIn",data(){return{form:{email:"",password:""},endpoint:"https://mevn-product-selling.onrender.com/",mutation:"\n              mutation createuser($user:UserSigninInput!){\n                signinUser(userSignin:$user) {\n                    token\n                  }\n                }"}},methods:{async getData(){try{const{email:e,password:n}=this.form,t={user:{email:e,password:n}},r=await(0,W.WY)(this.endpoint,this.mutation,t);console.log(r),r&&r.signinUser&&r.signinUser.token?(localStorage.setItem("token",r.signinUser.token),alert("login successfully!! ðŸ¥³ðŸ¥³"),rn.push("/")):alert("Invalid email or password")}catch(e){console.error(e)}}}};const Y=(0,$.Z)(H,[["render",F]]);var C=Y;const V={class:"container my-container"},A=(0,o._)("h3",null,"SignUp!!",-1),M={key:0,class:"red card-pane1"},E={key:1,class:"green card-pane1"},L=(0,o._)("p",null,"Already have an account ?",-1),T=(0,o._)("button",{type:"submit",class:"btn #673ab7 deep-purple"},"SignUp",-1);function B(e,n,t,i,l,a){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",V,[A,(0,o._)("form",{onSubmit:n[4]||(n[4]=(0,r.iM)(((...e)=>a.submitForm&&a.submitForm(...e)),["prevent"]))},[l.err?((0,o.wg)(),(0,o.iD)("p",M,(0,d.zw)(l.err.response.errors[0].message),1)):(0,o.kq)("",!0),l.info?((0,o.wg)(),(0,o.iD)("p",E,(0,d.zw)(l.info.signupUser.fname)+" you are successfully Signup ",1)):(0,o.kq)("",!0),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:"fname",name:"fname","onUpdate:modelValue":n[0]||(n[0]=e=>l.form.fname=e),required:""},null,512),[[r.nr,l.form.fname]]),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"lname",name:"lname","onUpdate:modelValue":n[1]||(n[1]=e=>l.form.lname=e),required:""},null,512),[[r.nr,l.form.lname]]),(0,o.wy)((0,o._)("input",{type:"email",placeholder:"email",name:"email","onUpdate:modelValue":n[2]||(n[2]=e=>l.form.email=e),required:""},null,512),[[r.nr,l.form.email]]),(0,o.wy)((0,o._)("input",{type:"password",placeholder:"password",name:"password","onUpdate:modelValue":n[3]||(n[3]=e=>l.form.password=e),required:""},null,512),[[r.nr,l.form.password]]),(0,o.Wm)(u,{to:"/login"},{default:(0,o.w5)((()=>[L])),_:1}),T])],32)])}var K={name:"SignUp",data(){return{form:{fname:"",lname:"",email:"",password:""},err:"",info:"",endpoint:"https://mevn-product-selling.onrender.com/",mutation:"\n          mutation($user: UserInput!) {\n            signupUser(userNew: $user) {\n              fname\n              lname\n              email\n            }\n          }\n        "}},methods:{async submitForm(){try{const{fname:e,lname:n,email:t,password:r}=this.form,o={user:{fname:e,lname:n,email:t,password:r}},i=await(0,W.WY)(this.endpoint,this.mutation,o);return this.info=i,this.err=null,console.log(this.info),this.clearForm(),i}catch(e){return this.err=e,this.info=null,this.clearForm(),console.log(this.err),this.err}},clearForm(){this.form.fname="",this.form.lname="",this.form.email="",this.form.password=""}}};const N=(0,$.Z)(K,[["render",B]]);var J=N;const G={key:0,class:"container"},Q={class:"center"},R=["src"],X=(0,o._)("br",null,null,-1),ee={key:0},ne=(0,o._)("br",null,null,-1),te=(0,o._)("h3",null,"Your products",-1),re={class:"p-maindiv"},oe={class:"center"},ie=["src"],le={style:{"margin-top":"20px"}},ae=(0,o._)("br",null,null,-1),ue=["onClick"];function se(e,n,t,r,i,l){const a=(0,o.up)("EditProfileForm");return r.result?((0,o.wg)(),(0,o.iD)("div",G,[(0,o._)("div",Q,[(0,o._)("img",{class:"circle profile-img",src:`https://robohash.org/${r.result.user.fname}.png?size=200x200`,alt:"pic"},null,8,R),(0,o._)("h5",null,(0,d.zw)(r.result.user.fname)+" "+(0,d.zw)(r.result.user.lname),1),(0,o._)("h6",null,(0,d.zw)(r.result.user.email),1),(0,o._)("button",{onClick:n[0]||(n[0]=e=>i.isActive=!i.isActive),class:"btn #673ab7 deep-purple"},"edit")]),X,i.isActive?((0,o.wg)(),(0,o.iD)("div",ee,[(0,o.Wm)(a,{user:r.result.user},null,8,["user"])])):(0,o.kq)("",!0),ne,te,(0,o._)("div",re,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.result.user.products,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"product",key:e},[(0,o._)("div",oe,[null!==e.url?((0,o.wg)(),(0,o.iD)("img",{key:0,src:`${e.url}`,alt:"pic"},null,8,ie)):(0,o.kq)("",!0)]),(0,o._)("h5",le,(0,d.zw)(e.name),1),(0,o._)("h6",null,[(0,o.Uk)("Price: "),(0,o._)("strong",null,"$ "+(0,d.zw)(e.price),1)]),(0,o._)("span",null,(0,d.zw)(e.discription),1),ae,(0,o._)("button",{type:"submit",class:"btn #673ab7 deep-purple right",onClick:n=>r.deleteProduct(e.id)},"Delete",8,ue)])))),128))])])):(0,o.kq)("",!0)}var ce=t(2262);const pe=(0,o._)("h5",null,"Update Profile",-1),me={class:"edit-profile"},de=["value"],fe=["value"],ge=["value"],he=(0,o._)("button",{type:"submit",class:"btn #673ab7 deep-purple"},"Update Profile",-1);function ve(e,n,t,i,l,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[pe,(0,o._)("div",me,[(0,o._)("form",{onSubmit:n[3]||(n[3]=(0,r.iM)(((...n)=>e.onSubmit&&e.onSubmit(...n)),["prevent"]))},[(0,o._)("input",{type:"text",id:"fname",value:e.fname,onInput:n[0]||(n[0]=n=>e.fname=n.target.value)},null,40,de),(0,o._)("input",{type:"text",id:"lname",value:e.lname,onInput:n[1]||(n[1]=n=>e.lname=n.target.value)},null,40,fe),(0,o._)("input",{type:"email",id:"email",value:e.email,onInput:n[2]||(n[2]=n=>e.email=n.target.value)},null,40,ge),he],32)])],64)}const we=U.ZP`
  mutation updateUser($fname: String!, $lname: String!, $email: String!) {
    updateUser(input: { fname: $fname, lname: $lname, email: $email }) {
      fname
      lname
      email
    }
  }
`;var ye=(0,o.aZ)({props:{user:{type:Object,required:!0}},setup(e){const n=(0,ce.iH)(e.user),t=(0,ce.iH)(n.value.fname),r=(0,ce.iH)(n.value.lname),o=(0,ce.iH)(n.value.email),{mutate:i,loading:l}=(0,P.Db)(we),a=()=>{console.log(t.value),i({fname:t.value,lname:r.value,email:o.value}).then((()=>{rn.push("/")}))};return{fname:t,lname:r,email:o,loading:l,onSubmit:a}}});const _e=(0,$.Z)(ye,[["render",ve]]);var be=_e;const ke=U.ZP`
query getProfile{
  user:myprofile{
    _id
    fname
    lname
    email
     products{
        id
    name
          price
      discription
      url
  }
  }
}
`,De=U.ZP`
  mutation deleteProduct($id: ID!) {
    deleteProduct(id: $id) {
      id
    }
  }
`;var Ue={name:"profileUser",components:{EditProfileForm:be},data(){return{isActive:!1}},setup(){const{result:e,loading:n,error:t}=(0,P.aM)(ke),r=(0,ce.iH)(!1);console.log(e);const{mutate:o}=(0,P.Db)(De);function i(n){o({id:n}).then((()=>{e.value.user.products=e.value.user.products.filter((e=>e.id!==n))})),rn.push("/")}function l(){this.isActive?r.value=!1:r.value=!0}return localStorage.getItem("token")||rn.push("/login"),{deleteProduct:i,result:e,loading:n,error:t,showEditForm:r,toggle:l}}};const Pe=(0,$.Z)(Ue,[["render",se]]);var qe=Pe;const Se={key:0,class:"container"},$e={class:"center"},Oe=["src"],ze=(0,o._)("h3",null,"Your products",-1),xe={class:"p-maindiv"},Ie={class:"center"},je=["src"],Ze={style:{"margin-top":"20px"}};function Fe(e,n,t,r,i,l){return i.items?((0,o.wg)(),(0,o.iD)("div",Se,[(0,o._)("div",$e,[(0,o._)("img",{class:"circle profile-img",src:`https://robohash.org/${i.items.fname}.png?size=200x200`,alt:"pic"},null,8,Oe),(0,o._)("h5",null,(0,d.zw)(i.items.fname)+" "+(0,d.zw)(i.items.lname),1),(0,o._)("h6",null,(0,d.zw)(i.items.email),1)]),ze,(0,o._)("div",xe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.items.products,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"product",key:e},[(0,o._)("div",Ie,[null!==e.url?((0,o.wg)(),(0,o.iD)("img",{key:0,src:`${e.url}`,alt:"pic"},null,8,je)):(0,o.kq)("",!0)]),(0,o._)("h5",Ze,(0,d.zw)(e.name),1),(0,o._)("div",null,[(0,o.Uk)("Price: "),(0,o._)("strong",null,"$ "+(0,d.zw)(e.price),1)]),(0,o._)("p",null,(0,d.zw)(e.discription),1)])))),128))])])):(0,o.kq)("",!0)}var We=t(6154),He={data(){const e=(0,m.yj)(),n=(0,ce.iH)(e.params.userid);return{items:[],query:"\n        query getUser($userId: ID!) {\n          user(_id: $userId) {\n            _id\n            fname\n            lname\n            email\n            products {\n                name\n                price\n                discription\n                url\n            }\n          }\n        }\n      ",variables:{userId:n.value}}},mounted(){We.Z.post("https://mevn-product-selling.onrender.com/",{query:this.query,variables:this.variables},{headers:{"Content-Type":"application/json"}}).then((e=>{this.items=e.data.data.user,console.log(this.items)})).catch((e=>{console.error(e)}))}};const Ye=(0,$.Z)(He,[["render",Fe]]);var Ce=Ye;const Ve={class:"container my-container"},Ae=(0,o._)("h3",null,"Create Product!!",-1),Me=(0,o._)("button",{type:"submit",class:"btn #673ab7 deep-purple"},"Create Product",-1);function Ee(e,n,t,i,l,a){return(0,o.wg)(),(0,o.iD)("div",Ve,[Ae,(0,o._)("form",{action:"",onSubmit:n[4]||(n[4]=(0,r.iM)((e=>a.getData()),["prevent"]))},[(0,o.wy)((0,o._)("input",{type:"text",name:"name",placeholder:"name","onUpdate:modelValue":n[0]||(n[0]=e=>l.form.name=e),required:""},null,512),[[r.nr,l.form.name]]),(0,o.wy)((0,o._)("input",{type:"text",name:"price",placeholder:"price","onUpdate:modelValue":n[1]||(n[1]=e=>l.form.price=e),required:""},null,512),[[r.nr,l.form.price]]),(0,o.wy)((0,o._)("input",{type:"text",name:"discription",placeholder:"description","onUpdate:modelValue":n[2]||(n[2]=e=>l.form.discription=e),required:""},null,512),[[r.nr,l.form.discription]]),(0,o.wy)((0,o._)("input",{type:"text",name:"url",placeholder:"write your url","onUpdate:modelValue":n[3]||(n[3]=e=>l.form.url=e),required:""},null,512),[[r.nr,l.form.url]]),Me],32)])}var Le={name:"createProduct",data(){return{form:{name:"",price:"",discription:"",url:""},endpoint:"https://mevn-product-selling.onrender.com/",mutation:"\nmutation CreateProduct($addproduct: product!) {\n  createProduct(addproduct: $addproduct) {\n    name\n    price\n    discription\n    url\n      by{\n        _id\n         fname\n        }\n  }\n}\n      ",headers:localStorage.getItem("token")}},methods:{async getData(){const{name:e,price:n,discription:t,url:r}=this.form,o={addproduct:{name:e,price:n,discription:t,url:r}},i={authorization:this.headers};try{const e=await(0,W.WY)(this.endpoint,this.mutation,o,i);console.log(e),alert("create your Product successfully!! ")}catch(l){console.error(l),alert("Error creating Product!")}}}};const Te=(0,$.Z)(Le,[["render",Ee]]);var Be=Te;const Ke={class:"center"},Ne=(0,o._)("h2",null,"404 Not Found",-1),Je=(0,o._)("iframe",{src:"https://giphy.com/embed/i0N0K6BC27rr5BpLuU",width:"428",height:"480",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),Ge=[Ne,Je];function Qe(e,n,t,r,i,l){return(0,o.wg)(),(0,o.iD)("div",Ke,Ge)}var Re={name:"noFound"};const Xe=(0,$.Z)(Re,[["render",Qe]]);var en=Xe;const nn=[{name:"homePage",path:"/",component:z},{name:"login",path:"/login",component:C},{name:"signup",path:"/signup",component:J},{name:"profile",path:"/profile",component:qe},{name:"create",path:"/create",component:Be},{name:"otherUserProfile",path:"/profile/:userid",component:Ce},{name:"notFound",path:"/:catchAll(.*)",component:en}],tn=(0,m.p7)({history:(0,m.PO)(),routes:nn});var rn=tn,on={name:"navBar",computed:{token(){return null!==localStorage.getItem("token")}},methods:{logout(){localStorage.removeItem("token"),rn.push("/login")}}};const ln=(0,$.Z)(on,[["render",p]]);var an=ln,un={name:"App",components:{navbar:an}};const sn=(0,$.Z)(un,[["render",i]]);var cn=sn,pn=t(5724),mn=t(3305);const dn=new pn.h,fn=new mn.f({cache:dn,uri:"https://mevn-product-selling.onrender.com/",headers:{authorization:localStorage.getItem("token")||""}});console.log("https://mevn-product-selling.onrender.com/");const gn=(0,r.ri)({setup(){(0,o.JJ)(P.Gk,fn)},render:()=>(0,o.h)(cn)});gn.use(rn).mount("#app")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,r,o,i){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],i=e[c][2];for(var a=!0,u=0;u<r.length;u++)(!1&i||l>=i)&&Object.keys(t.O).every((function(e){return t.O[e](r[u])}))?r.splice(u--,1):(a=!1,i<l&&(l=i));if(a){e.splice(c--,1);var s=o();void 0!==s&&(n=s)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,o,i]}}(),function(){var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);t.r(i);var l={};e=e||[null,n({}),n([]),n(n)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(e){l[e]=function(){return r[e]}}));return l["default"]=function(){return r},t.d(i,l),i}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,i,l=r[0],a=r[1],u=r[2],s=0;if(l.some((function(n){return 0!==e[n]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(u)var c=u(t)}for(n&&n(r);s<l.length;s++)i=l[s],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},r=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(2793)}));r=t.O(r)})();
//# sourceMappingURL=app.ea89e48b.js.map